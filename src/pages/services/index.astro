---
// src/pages/services/index.astro
import BaseLayout from '../../layouts/BaseLayout.astro'; // Path to BaseLayout is correct

// Consider changing 'Stacksolver.tech' to 'StacksolverUK.com' for UK site branding
const pageTitle = "Our Services | Tailored Technology Solutions - StacksolverUK.com";
const videoUrlPlaceholder = 'https://comercial-media.s3.amazonaws.com/ClarisConnectShort7.mp4'; // Placeholder video

const services = [
  { 
    name: "Modern and Functional Web Design", 
    description: "We create your window to the digital world: fast, attractive, and functional, ensuring an impactful first impression.", 
    link: "/services/web-design", // UPDATED LINK
    videoUrl: videoUrlPlaceholder, 
    pageExcerpt: "Discover how we transform your online presence with ultra-fast, user-centred websites, using technologies like Astro." 
  },
  { 
    name: "Bespoke Application Development (Claris FileMaker)", 
    description: "ERP systems, GRC, and more, designed exclusively for your operational and strategic needs.", 
    link: "/services/custom-application-development", // UPDATED LINK
    videoUrl: videoUrlPlaceholder, 
    // Note: "Official Claris Partners" wording adjusted here to align with previous changes for UK context.
    pageExcerpt: "Leveraging our deep Claris FileMaker expertise (our wider group includes an Official Claris Partner), we create robust solutions that perfectly adapt to your processes, from comprehensive management to specific modules." 
  },
  { 
    name: "Systems and Data Integration", 
    description: "We connect your tools so your data flows and works for you, optimising your workflows.", 
    link: "/services/systems-integration", // TEMPORARY LINK - will need final English name
    videoUrl: videoUrlPlaceholder, 
    pageExcerpt: "We enable your CRM, ERP, and other applications to share information automatically, eliminating silos and improving decision-making." 
  },
  { 
    name: "Learning Platforms (LMS with Moodle)", 
    description: "Train your team dynamically, effectively, and modernly with personalised virtual learning environments.", 
    link: "/services/learning-platforms", // TEMPORARY LINK - will need final English name
    videoUrl: videoUrlPlaceholder, 
    pageExcerpt: "Boost knowledge in your organisation with Moodle: from onboarding to developing complex skills." 
  },
  { 
    name: "Advanced Data Visualisation (Looker Studio)", 
    description: "We transform complex numbers into interactive dashboards and clear business decisions.", 
    link: "/services/data-visualisation", // TEMPORARY LINK - will need final English name
    videoUrl: videoUrlPlaceholder, 
    pageExcerpt: "Turn your data into actionable insights with Google Looker Studio, connecting multiple sources for a 360º view." 
  },
  { 
    name: "Artificial Intelligence for Businesses", 
    description: "Local, secure, and personalised AI to enhance your results and maintain control of your data.", 
    link: "/services/artificial-intelligence", // TEMPORARY LINK - will need final English name
    videoUrl: videoUrlPlaceholder, 
    pageExcerpt: "We implement AI and Machine Learning solutions with tools like Ollama, trained with your information to solve your challenges." 
  },
];
---

<BaseLayout title={pageTitle}>
  <main class="productos-index-page"> {/* Consider renaming class e.g., "services-index-page" */}
    <header class="page-header text-center section-padding light-bg">
      <div class="container">
        <h1>Our Technology Services</h1>
        <p class="lead">
          At StacksolverUK.com, we offer a range of solutions designed to solve your challenges and boost your growth. 
          Each service focuses on delivering tangible results, combining innovation, experience, and a deep understanding 
          of your needs to build the perfect technology 'stack' for you.
        </p>
      </div>
    </header>

    <section class="services-list-section section-padding">
      <div class="container">
        <div class="services-grid-detailed">
          {services.map(service => (
            <div class="service-item-card">
              <a href={service.link} class="service-video-link-wrapper">
                <div class="service-video-area-detailed">
                  {service.videoUrl ? (
                    <video autoplay loop muted playsinline preload="metadata">
                      <source src={service.videoUrl} type="video/mp4" />
                      Your browser does not support the video tag.
                    </video>
                  ) : (
                    <div class="video-placeholder-detailed">Video not available</div>
                  )}
                </div>
              </a>
              <div class="service-content-detailed">
                <a href={service.link}><h2>{service.name}</h2></a>
                <p class="excerpt">{service.pageExcerpt || service.description}</p>
                <a href={service.link} class="cta-button-service">
                  Learn more →
                </a>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style is:global>
  /* Styles remain the same as previously provided */
  .section-padding {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }
  .container {
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .text-center {
    text-align: center;
  }
  
  .light-bg {
    background-color: #f8f9fa;
  }

  .page-header h1 {
    font-size: 3rem;
    color: #1a1a1a; 
    margin-bottom: 1rem;
  }
  .page-header .lead {
    font-size: 1.2rem;
    color: #555;
    line-height: 1.7;
    max-width: 800px;
    margin: 0 auto;
  }

  .services-grid-detailed {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); 
    gap: 2.5rem;
  }

  @media (min-width: 992px) {
    .services-grid-detailed {
        grid-template-columns: repeat(2, 1fr);
    }
  }
  
  .service-item-card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: box-shadow 0.3s ease;
  }
  .service-item-card:hover {
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
  }

  .service-video-link-wrapper {
    display: block;
    text-decoration: none;
  }

  .service-video-area-detailed {
    width: 100%;
    position: relative;
    background-color: #e9ecef;
    padding-bottom: 50%; /* Aspect ratio for video */
    height: 0;
    overflow: hidden;
    transition: transform 0.3s ease;
  }

  .service-video-area-detailed video,
  .service-video-area-detailed .video-placeholder-detailed {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .video-placeholder-detailed {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #6c757d;
  }

  .service-content-detailed {
    padding: 1.5rem 2rem 2rem 2rem;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
  }

  .service-content-detailed h2 {
    font-size: 1.6rem;
    color: #1a1a1a; 
    margin-top: 0;
    margin-bottom: 0.75rem;
  }
  .service-content-detailed a { 
      text-decoration: none;
      color: inherit; 
  }
  .service-content-detailed a:hover h2 {
      text-decoration: underline;
      color: #000000; 
  }

  .service-content-detailed .excerpt {
    font-size: 1rem;
    color: #495057;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    flex-grow: 1;
  }

  .cta-button-service {
    display: inline-block;
    background-color: #1a1a1a; 
    color: #ffffff !important; 
    padding: 0.75rem 1.5rem;
    text-decoration: none;
    border-radius: 4px;
    font-weight: 500; 
    transition: background-color 0.3s ease, opacity 0.3s ease;
    align-self: flex-start;
    border: 1px solid #1a1a1a; 
  }
  .cta-button-service:hover {
    background-color: #000000; 
  }

</style>